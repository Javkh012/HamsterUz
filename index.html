
<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hamster UZ Clicker</title>
    <!-- Telegram Web App Script -->
    <script type="text/javascript" nonce="0651742521364e56a30a801fdcc" src="//local.adguard.org?ts=1770703527346&amp;type=content-script&amp;dmn=hamsteruz.vercel.app&amp;pth=%2F&amp;app=chrome.exe&amp;css=3&amp;js=1&amp;rel=1&amp;rji=1&amp;sbe=0"></script>
<script type="text/javascript" nonce="0651742521364e56a30a801fdcc" src="//local.adguard.org?ts=1770703527346&amp;name=AdGuard%20Assistant&amp;name=AdGuard%20Extra&amp;name=AdGuard%20Popup%20Blocker&amp;type=user-script"></script><script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Tailwind CSS (Dizayn uchun) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome (Ikonkalar uchun) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Maxsus animatsiyalar va uslublar */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #000;
            color: white;
            overflow: hidden; /* Scroll bo'lmasligi uchun */
            user-select: none; /* Matnni belgilashni o'chirish */
            -webkit-user-select: none;
            touch-action: manipulation;
        }

        .coin-btn {
            transition: transform 0.1s;
            box-shadow: 0 0 30px rgba(255, 165, 0, 0.3);
        }
        
        .coin-btn:active {
            transform: scale(0.95);
        }

        .floating-text {
            position: absolute;
            font-weight: bold;
            font-size: 24px;
            color: white;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            z-index: 50;
        }

        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100px); opacity: 0; }
        }

        .nav-item.active {
            color: #fbbf24; /* Amber-400 */
        }

        /* Progress bar */
        .progress-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        .progress-bar {
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
            height: 100%;
            transition: width 0.3s ease;
        }

        /* Modal oyna */
        .modal {
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
        }
    </style>
</head>
<body class="h-screen flex flex-col">

    <!-- O'YIN ASOSIY QISMI -->
    <div id="game-screen" class="flex-1 flex flex-col relative p-4 pb-24">
        
        <!-- Yuqori qism: Statistika -->
        <div class="flex justify-between items-center mb-6">
            <div class="flex items-center gap-2 bg-gray-800 rounded-full px-4 py-2 border border-gray-700">
                <i class="fas fa-user-astronaut text-yellow-400"></i>
                <span id="level-name" class="text-sm font-bold text-gray-300">Boshlovchi</span>
            </div>
            <div class="bg-gray-800 rounded-full px-4 py-2 border border-gray-700">
                <span class="text-xs text-gray-400">Daromad/soat</span>
                <div class="flex items-center gap-1">
                    <i class="fas fa-coins text-yellow-500 text-xs"></i>
                    <span id="profit-per-hour" class="font-bold text-green-400">+0</span>
                </div>
            </div>
        </div>

        <!-- Balans -->
        <div class="text-center mb-8 mt-4">
            <div class="flex justify-center items-center gap-3">
                <img src="https://cdn-icons-png.flaticon.com/512/1292/1292744.png" width="40" alt="Coin">
                <h1 id="balance" class="text-4xl font-black text-white tracking-wider">0</h1>
            </div>
            <p class="text-gray-400 text-sm mt-1">Jami tangalar</p>
        </div>

        <!-- Katta Tugma (Hamster o'rniga) -->
        <div class="flex-1 flex justify-center items-center relative z-10">
            <div id="click-btn" class="coin-btn w-64 h-64 rounded-full bg-gradient-to-b from-yellow-600 to-yellow-800 border-4 border-yellow-500 flex items-center justify-center cursor-pointer relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-tr from-transparent to-yellow-400 opacity-30 rounded-full"></div>
                <!-- Hamster Rasmi (SVG) -->
                <svg viewBox="0 0 512 512" class="w-40 h-40 text-white fill-current drop-shadow-lg">
                    <path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.3-208-208S141.3 48 256 48s208 93.3 208 208-93.3 208-208 208z"/>
                    <path d="M160 208c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48zM304 208c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48z"/>
                    <path d="M256 368c56.3 0 104.2-34.8 122.9-84.4 2.6-6.9-1.1-14.6-8.1-17.1-7-2.5-14.6 1.1-17.1 8.1-13.9 36.9-49.6 62.8-91.7 62.8s-77.8-25.9-91.7-62.8c-2.5-7-10.1-10.6-17.1-8.1-6.9 2.6-10.6 10.2-8.1 17.1C163.8 333.2 211.7 368 256 368z"/>
                </svg>
            </div>
        </div>

        <!-- Quvvat (Energy) -->
        <div class="mt-auto mb-4">
            <div class="flex justify-between text-sm mb-1 font-bold">
                <span class="flex items-center gap-1 text-yellow-400">
                    <i class="fas fa-bolt"></i> <span id="energy-display">1000</span> / <span id="energy-limit-display">1000</span>
                </span>
            </div>
            <div class="progress-container h-3 w-full">
                <div id="energy-bar" class="progress-bar w-full"></div>
            </div>
        </div>
    </div>

    <!-- SAHIFALAR (BOOST & TASKS) -->
    
    <!-- Boost Sahifasi (Yashirin) -->
    <div id="boost-screen" class="hidden flex-1 p-6 pb-24 overflow-y-auto">
        <h2 class="text-2xl font-bold mb-6 text-center text-yellow-400">Kuchaytirish</h2>
        
        <div class="space-y-4">
            <!-- Multitap Upgrade -->
            <div class="bg-gray-800 p-4 rounded-xl flex items-center justify-between border border-gray-700">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-hand-pointer text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-bold">Multitap</h3>
                        <p class="text-xs text-gray-400">Har bir bosish +1 tanga</p>
                        <p class="text-sm text-yellow-500 font-bold mt-1">
                            <i class="fas fa-coins text-xs"></i> <span id="multitap-cost">500</span>
                        </p>
                    </div>
                </div>
                <button onclick="buyBoost('multitap')" class="bg-white text-black px-4 py-2 rounded-lg font-bold text-sm hover:bg-gray-200 active:scale-95 transition">
                    Sotib olish
                </button>
            </div>

            <!-- Energy Limit Upgrade -->
            <div class="bg-gray-800 p-4 rounded-xl flex items-center justify-between border border-gray-700">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-battery-full text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-bold">Quvvat Limiti</h3>
                        <p class="text-xs text-gray-400">+500 quvvat sig'imi</p>
                        <p class="text-sm text-yellow-500 font-bold mt-1">
                            <i class="fas fa-coins text-xs"></i> <span id="energy-upgrade-cost">1000</span>
                        </p>
                    </div>
                </div>
                <button onclick="buyBoost('energyLimit')" class="bg-white text-black px-4 py-2 rounded-lg font-bold text-sm hover:bg-gray-200 active:scale-95 transition">
                    Sotib olish
                </button>
            </div>
            
            <!-- Avto Bot (Passive Income) -->
            <div class="bg-gray-800 p-4 rounded-xl flex items-center justify-between border border-gray-700">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-robot text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-bold">Avto Mayner</h3>
                        <p class="text-xs text-gray-400">+100 soatiga daromad</p>
                        <p class="text-sm text-yellow-500 font-bold mt-1">
                            <i class="fas fa-coins text-xs"></i> <span id="miner-cost">2000</span>
                        </p>
                    </div>
                </div>
                <button onclick="buyBoost('miner')" class="bg-white text-black px-4 py-2 rounded-lg font-bold text-sm hover:bg-gray-200 active:scale-95 transition">
                    Sotib olish
                </button>
            </div>
        </div>
    </div>

    <!-- Vazifalar Sahifasi (Yashirin) -->
    <div id="tasks-screen" class="hidden flex-1 p-6 pb-24 overflow-y-auto">
        <h2 class="text-2xl font-bold mb-6 text-center text-yellow-400">Vazifalar</h2>
        
        <div class="space-y-4">
            <!-- Telegram Task -->
            <div id="task-telegram" class="bg-gray-800 p-4 rounded-xl border border-gray-700">
                <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-3">
                        <i class="fab fa-telegram text-blue-400 text-3xl"></i>
                        <div>
                            <h3 class="font-bold">Kanalga obuna bo'ling</h3>
                            <p class="text-xs text-gray-400">+5,000 tanga</p>
                        </div>
                    </div>
                </div>
                <button onclick="checkTask('telegram')" id="btn-telegram" class="w-full bg-blue-600 py-2 rounded-lg font-bold mt-2 active:scale-95 transition">
                    Bajarish
                </button>
            </div>

            <!-- YouTube Task -->
            <div id="task-youtube" class="bg-gray-800 p-4 rounded-xl border border-gray-700">
                <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-3">
                        <i class="fab fa-youtube text-red-500 text-3xl"></i>
                        <div>
                            <h3 class="font-bold">Videoni ko'ring</h3>
                            <p class="text-xs text-gray-400">+10,000 tanga</p>
                        </div>
                    </div>
                </div>
                <button onclick="checkTask('youtube')" id="btn-youtube" class="w-full bg-red-600 py-2 rounded-lg font-bold mt-2 active:scale-95 transition">
                    Bajarish
                </button>
            </div>
            
            <!-- Daily Reward -->
             <div id="task-daily" class="bg-gray-800 p-4 rounded-xl border border-gray-700">
                <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-calendar-check text-green-500 text-3xl"></i>
                        <div>
                            <h3 class="font-bold">Kunlik mukofot</h3>
                            <p class="text-xs text-gray-400">+1,000 tanga</p>
                        </div>
                    </div>
                </div>
                <button onclick="checkTask('daily')" id="btn-daily" class="w-full bg-green-600 py-2 rounded-lg font-bold mt-2 active:scale-95 transition">
                    Olish
                </button>
            </div>
        </div>
    </div>

    <!-- MENU (PASTKI NAVIGATION) -->
    <div class="fixed bottom-4 left-4 right-4 bg-gray-900/90 backdrop-blur rounded-2xl p-1 flex justify-around border border-gray-800 shadow-2xl z-50">
        <button onclick="switchTab('game')" class="nav-item active flex-1 py-3 flex flex-col items-center gap-1 text-gray-500 transition">
            <i class="fas fa-gamepad text-xl"></i>
            <span class="text-xs font-bold">O'yin</span>
        </button>
        <button onclick="switchTab('boost')" class="nav-item flex-1 py-3 flex flex-col items-center gap-1 text-gray-500 transition">
            <i class="fas fa-rocket text-xl"></i>
            <span class="text-xs font-bold">Kuchaytirish</span>
        </button>
        <button onclick="switchTab('tasks')" class="nav-item flex-1 py-3 flex flex-col items-center gap-1 text-gray-500 transition">
            <i class="fas fa-tasks text-xl"></i>
            <span class="text-xs font-bold">Vazifalar</span>
        </button>
    </div>

    <!-- Notification / Toast -->
    <div id="toast" class="fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-2 rounded-full shadow-lg transition-all duration-300 opacity-0 pointer-events-none z-50 font-bold text-sm">
        Muvaffaqiyatli!
    </div>

    <script>
        // Telegram Web App init
        const tg = window.Telegram.WebApp;
        tg.expand(); // Ilovani to'liq ekranga yoyish
        
        // Asosiy o'yin state-i (holati)
        let gameState = {
            balance: 0,
            energy: 1000,
            energyLimit: 1000,
            multitap: 1, // Har bir klik uchun tanga
            profitPerHour: 0,
            lastLogin: Date.now(),
            completedTasks: []
        };

        // Narxlar
        let costs = {
            multitap: 500,
            energyLimit: 1000,
            miner: 2000
        };

        // LocalStorage dan yuklash
        function loadGame() {
            const saved = localStorage.getItem('hamsterUzSave');
            if (saved) {
                const parsed = JSON.parse(saved);
                gameState = { ...gameState, ...parsed };
                
                // Offline daromadni hisoblash
                const now = Date.now();
                const diffSeconds = Math.floor((now - gameState.lastLogin) / 1000);
                if (diffSeconds > 0 && gameState.profitPerHour > 0) {
                    const earned = Math.floor((gameState.profitPerHour / 3600) * diffSeconds);
                    if (earned > 0) {
                        gameState.balance += earned;
                        showToast(`Siz yo'qligingizda ${earned} tanga ishlandi!`);
                    }
                }
            }
            // Narxlarni yangilash (sodda formula)
            costs.multitap = 500 * Math.pow(2, gameState.multitap - 1);
            costs.energyLimit = 1000 * Math.floor((gameState.energyLimit - 1000) / 500 + 1);
            // Miner narxi liney o'sadi bu misolda
            costs.miner = 2000 + (gameState.profitPerHour / 100 * 500);
            
            updateUI();
            checkTasksUI();
        }

        // Saqlash funksiyasi
        function saveGame() {
            gameState.lastLogin = Date.now();
            localStorage.setItem('hamsterUzSave', JSON.stringify(gameState));
        }

        // UI ni yangilash
        function updateUI() {
            // Asosiy balans
            document.getElementById('balance').innerText = Math.floor(gameState.balance).toLocaleString();
            document.getElementById('profit-per-hour').innerText = "+" + gameState.profitPerHour.toLocaleString();
            
            // Energy
            document.getElementById('energy-display').innerText = Math.floor(gameState.energy);
            document.getElementById('energy-limit-display').innerText = gameState.energyLimit;
            
            const percentage = (gameState.energy / gameState.energyLimit) * 100;
            document.getElementById('energy-bar').style.width = percentage + '%';

            // Boost narxlari
            document.getElementById('multitap-cost').innerText = costs.multitap.toLocaleString();
            document.getElementById('energy-upgrade-cost').innerText = costs.energyLimit.toLocaleString();
            document.getElementById('miner-cost').innerText = costs.miner.toLocaleString();

            // Daraja (Level) nomi
            let levelName = "Boshlovchi";
            if(gameState.balance > 5000) levelName = "Bronza";
            if(gameState.balance > 25000) levelName = "Kumush";
            if(gameState.balance > 100000) levelName = "Oltin";
            if(gameState.balance > 1000000) levelName = "Platina";
            if(gameState.balance > 10000000) levelName = "Milliarder";
            document.getElementById('level-name').innerText = levelName;
        }

        // Bosish (Tap) Logikasi
        document.getElementById('click-btn').addEventListener('pointerdown', (e) => {
            // Ekranni yaqinlashtirishni oldini olish
            e.preventDefault();

            if (gameState.energy >= gameState.multitap) {
                // Tanga qo'shish
                gameState.balance += gameState.multitap;
                gameState.energy -= gameState.multitap;
                
                // Vibratsiya (Telegram WebApp)
                if(tg.HapticFeedback) {
                    tg.HapticFeedback.impactOccurred('medium');
                }

                // Animatsiya (Floating text)
                showFloatingText(e.clientX, e.clientY, `+${gameState.multitap}`);
                
                // Tugma animatsiyasi
                const btn = document.getElementById('click-btn');
                btn.style.transform = "scale(0.95)";
                setTimeout(() => btn.style.transform = "scale(1)", 100);

                updateUI();
            } else {
                 showToast("Quvvat tugadi!");
            }
        });

        // Floating Text (+1 animatsiyasi)
        function showFloatingText(x, y, text) {
            const el = document.createElement('div');
            el.className = 'floating-text';
            el.innerText = text;
            el.style.left = `${x}px`;
            el.style.top = `${y}px`;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 1000);
        }

        // Tablarni almashtirish
        function switchTab(tabName) {
            // Ekranlarni yashirish
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('boost-screen').classList.add('hidden');
            document.getElementById('tasks-screen').classList.add('hidden');
            
            // Tanlangan ekranni ochish
            document.getElementById(tabName + '-screen').classList.remove('hidden');

            // Menyudagi ranglarni o'zgartirish
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active', 'text-yellow-400'));
            // Bu yerda oddiy index bo'yicha topib active qilish mumkin, lekin oddiylik uchun:
            if(tabName === 'game') document.querySelectorAll('.nav-item')[0].classList.add('active');
            if(tabName === 'boost') document.querySelectorAll('.nav-item')[1].classList.add('active');
            if(tabName === 'tasks') document.querySelectorAll('.nav-item')[2].classList.add('active');
        }

        // Boost sotib olish
        function buyBoost(type) {
            if (type === 'multitap') {
                if (gameState.balance >= costs.multitap) {
                    gameState.balance -= costs.multitap;
                    gameState.multitap += 1;
                    costs.multitap *= 2;
                    showToast("Multitap kuchaytirildi!");
                } else showToast("Mablag' yetarli emas");
            } else if (type === 'energyLimit') {
                if (gameState.balance >= costs.energyLimit) {
                    gameState.balance -= costs.energyLimit;
                    gameState.energyLimit += 500;
                    gameState.energy += 500; // Bonus energy
                    costs.energyLimit = Math.floor(costs.energyLimit * 1.5);
                    showToast("Quvvat limiti oshirildi!");
                } else showToast("Mablag' yetarli emas");
            } else if (type === 'miner') {
                if (gameState.balance >= costs.miner) {
                    gameState.balance -= costs.miner;
                    gameState.profitPerHour += 100;
                    costs.miner += 500;
                    showToast("Avto mayner sotib olindi!");
                } else showToast("Mablag' yetarli emas");
            }
            updateUI();
            saveGame();
        }

        // Vazifalarni tekshirish
        function checkTask(taskId) {
            if (gameState.completedTasks.includes(taskId)) return;

            const btn = document.getElementById('btn-' + taskId);
            
            if (taskId === 'daily') {
                 // Kunlik mukofot darhol beriladi
                 completeTask(taskId, 1000);
                 return;
            }

            // Simulyatsiya: Linkni ochish
            if(taskId === 'telegram') window.open('https://t.me/telegram', '_blank');
            if(taskId === 'youtube') window.open('https://youtube.com', '_blank');

            // Tugmani o'zgartirish
            const originalText = btn.innerText;
            btn.innerText = "Tekshirilmoqda...";
            btn.disabled = true;
            btn.classList.add('bg-gray-600');

            // 3 sekunddan keyin bajarildi deb hisoblash
            setTimeout(() => {
                let reward = 0;
                if(taskId === 'telegram') reward = 5000;
                if(taskId === 'youtube') reward = 10000;
                
                completeTask(taskId, reward);
                btn.innerText = "Bajarildi";
                btn.classList.remove('bg-gray-600', 'bg-blue-600', 'bg-red-600');
                btn.classList.add('bg-green-600');
            }, 3000);
        }

        function completeTask(taskId, reward) {
            if (!gameState.completedTasks.includes(taskId)) {
                gameState.balance += reward;
                gameState.completedTasks.push(taskId);
                showToast(`+${reward} tanga olindi!`);
                updateUI();
                saveGame();
                checkTasksUI();
            }
        }

        function checkTasksUI() {
            gameState.completedTasks.forEach(taskId => {
                const btn = document.getElementById('btn-' + taskId);
                if(btn) {
                    btn.innerText = "Bajarildi";
                    btn.classList.remove('bg-blue-600', 'bg-red-600', 'bg-green-600');
                    btn.classList.add('bg-gray-600');
                    btn.disabled = true;
                }
            });
        }

        // Xabar chiqarish (Toast)
        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.style.opacity = 1;
            toast.style.top = '20px';
            setTimeout(() => {
                toast.style.opacity = 0;
                toast.style.top = '-50px';
            }, 2000);
        }

        // O'yin tsikli (Game Loop) - har sekundda ishlaydi
        setInterval(() => {
            // Quvvatni tiklash (sekundiga 3 ta)
            if (gameState.energy < gameState.energyLimit) {
                gameState.energy += 3;
                if (gameState.energy > gameState.energyLimit) gameState.energy = gameState.energyLimit;
            }

            // Avto daromad (Profit per hour)
            if (gameState.profitPerHour > 0) {
                const profitPerSecond = gameState.profitPerHour / 3600;
                gameState.balance += profitPerSecond;
            }

            updateUI();
            saveGame(); // Har sekundda saqlash
        }, 1000);

        // O'yinni boshlash
        loadGame();
    </script>
</body>
</html>
